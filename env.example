# Vextra AI - Environment Configuration
# Copy this file to .env.local and fill in your values
# Documentation: https://github.com/your-repo/vextra-ai

# ============================================================================
# APPLICATION URL
# ============================================================================

NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================================================
# PLATFORM SERVICES (Required)
# ============================================================================

# Supabase Database
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Anthropic API (legacy - now using BYOK model)
# ANTHROPIC_API_KEY=your_api_key_here

# ============================================================================
# API KEY ENCRYPTION (Required for multi-model support)
# ============================================================================

# Secret key for encrypting user API keys in database
# Generate with: openssl rand -base64 32
API_KEY_ENCRYPTION_SECRET=your-32-character-encryption-key-here

# ============================================================================
# AZURE BLOB STORAGE (Required)
# ============================================================================

AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your-account;...
AZURE_CONTAINER_NAME=your-container
AZURE_STORAGE_ACCOUNT_NAME=your-account
AZURE_STORAGE_ACCOUNT_KEY=your-key

# ============================================================================
# TENANT BRANDING (Optional - can use setup wizard instead)
# ============================================================================

# Set TENANT_NAME to skip the setup wizard and pre-configure the system
# TENANT_NAME=Your Company Name
# TENANT_SLUG=your-company
# TENANT_PRIMARY_COLOR=#3B82F6
# TENANT_LANGUAGE=sv
# TENANT_LOGO_URL=https://example.com/logo.png

# Known waste receivers (comma-separated)
# TENANT_KNOWN_RECEIVERS=Ragn-Sells,Renova,NSR,SITA,Stena Recycling

# ============================================================================
# FEATURE FLAGS (Optional)
# ============================================================================

# Auto-approve documents with high confidence
ENABLE_AUTO_APPROVE=true
AUTO_APPROVE_THRESHOLD=95

# Enable verification step (uses more API calls but reduces hallucinations)
ENABLE_VERIFICATION=false

# ============================================================================
# PROCESSING SETTINGS (Optional)
# ============================================================================

BATCH_SIZE=10
CHECK_INTERVAL_SECONDS=300
CONFIDENCE_THRESHOLD=0.80

# Validation Rules
ALLOWED_WEIGHT_UNITS=kg
REQUIRED_FIELDS=weight_kg,address,waste_type,date
SUPPORTED_LANGUAGES=sv,fi,no,en

# ============================================================================
# STRIPE (Payment Processing)
# ============================================================================

# Stripe API keys (get from https://dashboard.stripe.com/apikeys)
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Stripe webhook secret (get from https://dashboard.stripe.com/webhooks)
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe price IDs for subscription plans
STRIPE_STARTER_PRICE_ID=price_...
STRIPE_PRO_PRICE_ID=price_...
STRIPE_ENTERPRISE_PRICE_ID=price_...

# ============================================================================
# RESEND (Email Service)
# ============================================================================

# Resend API key (get from https://resend.com/api-keys)
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=noreply@vextra.ai

# ============================================================================
# SENTRY (Error Tracking)
# ============================================================================

# Sentry DSN (get from https://sentry.io)
SENTRY_DSN=https://...@sentry.io/...
NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...

# ============================================================================
# POSTHOG (Analytics)
# ============================================================================

# PostHog project API key (get from https://posthog.com)
# Only active in production - local development is not tracked
NEXT_PUBLIC_POSTHOG_KEY=phc_...
NEXT_PUBLIC_POSTHOG_HOST=https://eu.i.posthog.com

# ============================================================================
# BETTER STACK (Logging)
# ============================================================================

# Better Stack/Logtail token (get from https://betterstack.com)
BETTER_STACK_TOKEN=...

# ============================================================================
# VERCEL CRON (For scheduled jobs)
# ============================================================================

# Secret for cron job authentication
CRON_SECRET=your-secure-random-string

# Heartbeat URL for uptime monitoring (Better Stack, Cronitor, etc.)
# Called on successful cron job completion
# CRON_HEARTBEAT_URL=https://uptime.betterstack.com/api/v1/heartbeat/xxx

# ============================================================================
# LOCAL DEVELOPMENT (Optional)
# ============================================================================

# WORK_DIR=/tmp/document-pipeline/processing
# REVIEW_DIR=/tmp/document-pipeline/review
# FAILED_DIR=/tmp/document-pipeline/failed
# PROCESSED_DIR=/tmp/document-pipeline/processed
